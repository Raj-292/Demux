{"id":451551666,"lang":"cpp","time":"4Â months","timestamp":1612370998,"status_display":"Accepted","runtime":"124 ms","url":"/submissions/detail/451551666/","is_pending":"Not Pending","title":"Basic Calculator","memory":"19.2 MB","code":"class Solution {\npublic:\n    int calculate(string s1) {\n        \n        string s = \"(\"+s1+\")\";\n        // string s = (s1[0] != '(')? \"(\"+s1+\")\": s1;\n        \n        // cout << s << endl;\n        \n        int n = s.size(), i;\n        string num = \"\";\n        stack<string> st;\n        \n        \n        for(i = 0; i < n; i++) {\n            if(s[i] == ' ')\n                continue;\n            \n            if(isdigit(s[i])) {\n                // String concatenation\n                num += s[i];\n                continue;\n            }\n            \n            if(num != \"\"){\n                if(!st.empty() && (st.top() == \"+\" || st.top() == \"-\")) {\n                    string t = st.top();\n                    st.pop();\n                    num = t + num;\n                }\n                st.push(num);\n                num = \"\";\n            }\n            \n            if(s[i] == '+' || s[i] == '-' || s[i] == '(') {\n                string temp = \"\";\n                temp = temp + s[i];\n                st.push(temp);\n                continue;\n            }\n            \n//             cout << s[i] << endl;\n            \n            // cout << st.size() << endl;\n            // stack<string> st1 = st;\n            // while(!st1.empty()) {\n            //     cout << st1.top() << \", \";\n            //     st1.pop();\n            // }\n            // cout << endl;\n            // You have a ')'\n            // Pop and evaluate\n            int exp = 0;\n            while(st.top() != \"(\") {\n                string k = st.top();\n                st.pop();\n                \n                exp += stoi(k);\n            }\n            \n            st.pop();\n            \n            string exp_str = to_string(exp);\n            \n            // Prepend sign if needed\n            if(!st.empty() && (st.top() == \"+\" || st.top() == \"-\")) {\n                if(exp < 0 && st.top() == \"-\") {\n                    exp_str[0] = '+';\n                }\n                else if(exp >= 0){\n                    string t = st.top();\n                    exp_str = t + exp_str;\n                }\n                \n                st.pop();  \n            }\n            \n            st.push(exp_str);\n        }\n        \n        return stoi(st.top());\n    }\n};","compare_result":"111111111111111111111111111111111111111","title_slug":"basic-calculator"}