{"id":472349431,"lang":"cpp","time":"2 months, 2 weeks","timestamp":1616691594,"status_display":"Accepted","runtime":"100 ms","url":"/submissions/detail/472349431/","is_pending":"Not Pending","title":"LRU Cache","memory":"42.1 MB","code":"class LRUCache {\npublic:\n    list<int> l;\n    unordered_map<int, pair<int, list<int>::iterator>> m;\n    int c;\n    \n    LRUCache(int capacity) {\n        c = capacity;\n    }\n    \n    int get(int key) {\n        if (m.find(key) == m.end())\n            return -1;\n        \n        int res = m[key].first;\n        // Update this to be the most recent\n        // Erase\n        l.erase(m[key].second);\n        \n        // Insert at the head\n        l.push_front(key);\n        \n        // Update the reference in the map\n        m[key].second = l.begin();\n        \n        return res;\n    }\n    \n    void put(int key, int value) {\n        // Update\n        if (m.find(key) != m.end()) {\n            // Erase\n            l.erase(m[key].second);\n        \n            // Insert at the head\n            l.push_front(key);\n        \n            // Update the reference in the map\n            m[key].second = l.begin();\n            \n            // Update the value\n            m[key].first = value;\n        }\n        else {\n            if (l.size() < c) {\n                // Brand new insert\n                // Cache is not full\n                // Insert at the head of the list\n                l.push_front(key);\n            \n                // Insert in the map\n                m[key] = make_pair(value, l.begin());    \n            }\n            else {\n                // Cache is full\n                // Remove the LRU entry\n                int k = l.back();\n                \n                // Remove from the list\n                l.pop_back();\n                \n                // Remove from the map\n                m.erase(k);\n                \n                // Insert\n                // Insert at the head of the list\n                l.push_front(key);\n            \n                // Insert in the map\n                m[key] = make_pair(value, l.begin()); \n            } \n        }\n        \n    }\n};\n\n/**\n * Your LRUCache object will be instantiated and called as such:\n * LRUCache* obj = new LRUCache(capacity);\n * int param_1 = obj->get(key);\n * obj->put(key,value);\n */","compare_result":"11111111111111111111","title_slug":"lru-cache"}