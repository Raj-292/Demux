{"id":482123329,"lang":"cpp","time":"1 month, 3 weeks","timestamp":1618738975,"status_display":"Accepted","runtime":"0 ms","url":"/submissions/detail/482123329/","is_pending":"Not Pending","title":"Prison Cells After N Days","memory":"12.9 MB","code":"class Solution {\npublic:\n    vector<int> prisonAfterNDays(vector<int>& cells, int n) {\n        string prev=\"\",curr;\n        int i,l=cells.size(),itr;\n        \n        vector<int> res;\n        vector<string> pos;\n        unordered_map<string,int> configs;\n        \n        for(i=0;i<l;i++)\n            prev+=cells[i]==0?'0':'1';\n        \n        curr=prev;\n        curr[0]=curr[7]='0';\n        configs[prev]=0,pos.push_back(prev);\n        \n        for(i=1;i<=n;i++){\n            for(itr=1;itr<7;itr++)\n                curr[itr]=(prev[itr-1]==prev[itr+1])?'1':'0';\n            if(configs.find(curr)!=configs.end())       //CYCLE\n                break;\n            configs[curr]=i,pos.push_back(curr);\n            prev=curr;\n        }\n        if(i==n+1)\n            for(itr=0;itr<8;itr++)\n                res.push_back(curr[itr]=='0'?0:1);\n        else{\n            int tail_length=configs[curr],cycle_length=i-tail_length;\n            i=tail_length+(n-tail_length)%(cycle_length);\n            for(itr=0;itr<8;itr++)\n                res.push_back(pos[i][itr]=='0'?0:1);\n        }\n        return res;\n    }\n};","compare_result":"111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111111","title_slug":"prison-cells-after-n-days"}